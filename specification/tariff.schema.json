{
  "$schema": "http://json-schema.org/draft-07/schema",
  "definitions": {
    "Tariff": {
      "description": "Information about the tariff that are static and does not change during at least a month.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "common.schema.json#/definitions/Uuid"
        },
        "name": {
          "description": "Descriptive short name of the grid tariff.",
          "type": "string"
        },
        "description": {
          "description": "Detailed description of the grid tariff.",
          "type": "string"
        },
        "validPeriod": {
          "$ref": "time.schema.json#/definitions/DateInterval"
        },
        "timeZone": {
          "$ref": "time.schema.json#/definitions/TimeZone"
        },
        "lastUpdated": {
          "$ref": "time.schema.json#/definitions/DateTime"
        },
        "companyName": {
          "description": "Name of the grid company.",
          "type": "string"
        },
        "companyOrgNo": {
          "description": "Organization number and unique identifier of the grid company.",
          "type": "string"
        },
        "product": {
          "description": "A persistent and unique (on company level) reference to identify a given product during its entire lifecycle. If set, the reference allows for a seamless transition when a products tariff definition gets updated.",
          "type": "string",
          "example": "net.consume.std.25"
        },
        "direction": {
          "description": "Indicates if this is a tariff for consumption or production. Valid values are \"consumption\" and \"production\".",
          "type": "string",
          "pattern": "consumption|production",
          "default": "consumption"
        },
        "billingPeriod": {
          "$ref": "time.schema.json#/definitions/Duration"
        },
        "fixedPrice": {
          "$ref": "tariff.schema.json#/definitions/FixedPrice"
        },
        "energyPrice": {
          "$ref": "tariff.schema.json#/definitions/EnergyPrice"
        },
        "powerPrice": {
          "$ref": "tariff.schema.json#/definitions/PowerPrice"
        }
      },
      "required": [
        "id",
        "name",
        "validPeriod",
        "timeZone",
        "lastUpdated",
        "companyName",
        "companyOrgNo",
        "product",
        "direction",
        "billingPeriod",
        "fixedPrice",
        "energyPrice",
        "powerPrice"
      ],
      "additionalProperties": false
    },
    "FixedPrice": {
      "description": "Prices and information for the fixed price component of the tariff.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "common.schema.json#/definitions/Uuid"
        },
        "name": {
          "$ref": "common.schema.json#/definitions/Name"
        },
        "description": {
          "$ref": "common.schema.json#/definitions/Description"
        },
        "costFunction": {
          "$ref": "price.schema.json#/definitions/CostFunction"
        },
        "components": {
          "type": "array",
          "items": {
            "$ref": "fixed.schema.json#/definitions/FixedPriceComponent"
          }
        }
      },
      "required": [
        "id",
        "name",
        "costFunction",
        "components"
      ],
      "additionalProperties": false
    },
    "EnergyPrice": {
      "description": "Prices and information for the energy price component of the tariff.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "common.schema.json#/definitions/Uuid"
        },
        "name": {
          "$ref": "common.schema.json#/definitions/Name"
        },
        "description": {
          "$ref": "common.schema.json#/definitions/Description"
        },
        "costFunction": {
          "$ref": "price.schema.json#/definitions/CostFunction"
        },
        "unit": {
          "$ref": "common.schema.json#/definitions/Unit"
        },
        "components": {
          "type": "array",
          "items": {
            "$ref": "energy.schema.json#/definitions/EnergyPriceComponent"
          }
        }
      },
      "required": [
        "id",
        "name",
        "costFunction",
        "unit",
        "components"
      ],
      "additionalProperties": false
    },
    "PowerPrice": {
      "description": "Prices with parameters that defines power peak identification and price calculation for the power component of the tariff.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "common.schema.json#/definitions/Uuid"
        },
        "name": {
          "$ref": "common.schema.json#/definitions/Name"
        },
        "description": {
          "$ref": "common.schema.json#/definitions/Description"
        },
        "costFunction": {
          "$ref": "price.schema.json#/definitions/CostFunction"
        },
        "unit": {
          "$ref": "common.schema.json#/definitions/Unit"
        },
        "components": {
          "type": "array",
          "items": {
            "$ref": "power.schema.json#/definitions/PowerPriceComponent"
          }
        }
      },
      "required": [
        "id",
        "name",
        "costFunction",
        "unit",
        "components"
      ],
      "additionalProperties": false
    }
  }
}