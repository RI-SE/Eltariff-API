{
  "$schema": "http://json-schema.org/draft-07/schema",

  "definitions": {

    "TariffType": {
      "description": "Information about the tariff type.",
      "type": "object",
      "properties": {
        "tariffKey": {
          "$ref": "common.schema.json#/definitions/TariffKey"
        },
        "product": {
          "description": "Name of the grid company product, for grid company internal use.",
          "type": "string",
          "nullable": true
        },
        "companyName": {
          "description": "Name of the grid company. Ex. Elvia AS",
          "type": "string",
          "nullable": true
        },
        "companyOrgNo": {
          "description": "Organization number of the grid company. Ex. 980489698",
          "type": "string"
        },
        "title": {
          "description": "Name of the grid tariff type. Ex. Nettleie under 100MWh",
          "type": "string",
          "nullable": true
        },
        "consumptionTariff": {
          "description": "Indicates if this is a tariff for consumption or production. True = consumption.",
          "type": "boolean"
        },
        "lastUpdated": {
          "description": "The time of when the prices were last updated on the server side. No need to get prices if you already fetched the latest ones? Ex. 2021-11-05T00:00:00+01:00",
          "type": "string",
          "format": "date-time"
        },
        "usePublicHolidayPrices": {
          "description": "True if the grid tariff use the lowest prices during public holidays.",
          "type": "boolean",
          "nullable": true
        },
        "useWeekendPrices": {
          "description": "True if the grid tariff use the lowest prices during public weekends(Saturday and/or Sunday)",
          "type": "boolean",
          "nullable": true
        },
        "fixedPriceConfiguration": {
          "$ref": "#/definitions/FixedPriceConfiguration"
        },
        "powerPriceConfiguration": {
          "$ref": "#/definitions/PowerPriceConfiguration",
          "nullable": true
        },
        "resolution": {
          "type": "integer",
          "format": "int32"
        },
        "description": {
          "type": "string",
          "nullable": true
        }
      },
      "additionalProperties": false
    },


    "FixedPriceConfiguration": {
      "description": "Parameters to visualize how the fixed price component is calculated. Ex. if months > 1, then the average of the maxhoursPerMonth for x months is the basis for the fixed price etc. Weighting is not supported in this version.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "common.schema.json#/definitions/Uuid"
        },
        "basis": {
          "description": "The basis category of the fixed price component.",
          "type": "string",
          "examples": [ "max", "fusesize" ]
        },
        "level": {
          "type": "string",
          "examples": [ "14 kW", "25 A" ]
        }
      },
      "additionalProperties": false
    },


    "PowerPriceConfiguration": {
      "description": "Parameters to visualize how the fixed price component is calculated. Ex. if months > 1, then the average of the maxhoursPerMonth for x months is the basis for the fixed price etc. Weighting is not supported in this version.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "common.schema.json#/definitions/Uuid"
        },
        "peakPricingPeriod": {
          "description": "The peak pricing period is a consecutive time period in which peaks are identified to calculate the power price.\nDuration of the period in [ISO 8601 duration format](https://en.wikipedia.org/wiki/ISO_8601#Durations).\nExamples:\n- \"P1D\" for one day\n- \"P1M\" for one month\n- \"P2W\" for two weeks\n- \"P3Y6M4DT12H30M5S\" for a complex duration.",
          "type": "string",
          "example": "P1M",
          "nullable": true
        },
        "peakIdentificationPeriod": {
          "description": "The time period as an ISO 8601 duration for identifying one single peak to be used in calculations. For example only one peak per day is saved => \"P1D\".",
          "type": "string",
          "examples": [ "P1D", "P1W" ],
          "nullable": true
        },
        "peakDuration": {
          "description": "The time length as an ISO 8601 duration for calculating average power to get one peak.",
          "type": "string",
          "examples": [ "PT1H", "PT15M" ],
          "nullable": true
        },
        "numberOfPeaks": {
          "description": "The number of peaks within a peak pricing period for calculating average peak for that period.",
          "type": "integer",
          "example": 3,
          "nullable": true
        }
      },
      "additionalProperties": false
    }
  }
}
